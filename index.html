<!DOCTYPE html>
<html>
<head>
  <title>Deteksi Lokasi & Device</title>
</head>
<body>
  <button onclick="getInfo()">Klik untuk Kirim Data</button>

  <script>
    function getInfo() {
      const deviceInfo = navigator.userAgent;

      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;

          const endpoint = "https://script.google.com/macros/s/https://script.google.com/macros/s/AKfycbxiOznbB7mlo2ZQ64A5B2O-WtsKlVSg9mfHwJwuKEf2vIn47Fc1UjxeTGUORfgpgVPpwg/exec/exec";

          fetch(`${endpoint}?lat=${latitude}&lon=${longitude}&device=${encodeURIComponent(deviceInfo)}`)
            .then(response => alert("Terima kasih! Data kamu sudah dicatat."))
            .catch(error => alert("Gagal mengirim data."));
        }, function(error) {
          alert("Gagal mengambil lokasi: " + error.message);
        });
      } else {
        alert("Browser tidak mendukung geolocation.");
      }
    }
  </script>
</body>
</html>

